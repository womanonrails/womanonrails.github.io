<!DOCTYPE html><html lang="en"><head><meta charset='utf-8'><title>Functional programming in Ruby</title><meta name='description' content='Short introduction to blocks, procs, lambdas and closures.'><meta name='viewport' content='width=device-width, initial-scale=1.0'><meta name="generator" content="Jekyll v4.0.1" /><meta property="og:title" content="Functional programming in Ruby" /><meta name="author" content="womanonrails" /><meta property="og:locale" content="en" /><meta name="description" content="Short introduction to blocks, procs, lambdas and closures." /><meta property="og:description" content="Short introduction to blocks, procs, lambdas and closures." /><link rel="canonical" href="https://womanonrails.com/functional-programming-ruby" /><meta property="og:url" content="https://womanonrails.com/functional-programming-ruby" /><meta property="og:site_name" content="Woman on Rails" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-07-03T00:00:00-04:00" /> <script type="application/ld+json"> {"description":"Short introduction to blocks, procs, lambdas and closures.","url":"https://womanonrails.com/functional-programming-ruby","@type":"BlogPosting","headline":"Functional programming in Ruby","dateModified":"2019-07-03T00:00:00-04:00","datePublished":"2019-07-03T00:00:00-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://womanonrails.com/functional-programming-ruby"},"author":{"@type":"Person","name":"womanonrails"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://womanonrails.com/womanonrails-square.svg"},"name":"womanonrails"},"@context":"https://schema.org"}</script><meta name='twitter:card' content='summary'><meta name='twitter:creator' content='@womanonrails'><meta name='twitter:description' content='Short introduction to blocks, procs, lambdas and closures.'><meta name='twitter:image' content='https://womanonrails.com/images/womanonrails-square.svg'><meta name='twitter:title' content='Functional programming in Ruby'><meta property='og:description' content='Short introduction to blocks, procs, lambdas and closures.'><meta property='og:image' content='https://womanonrails.com/images/womanonrails-1000x1000.jpg'><meta property='og:title' content='Functional programming in Ruby'><meta property='og:type' content='website'><link href='https://womanonrails.com/favicon.ico' rel='shortcut icon' type='image/x-icon' /><link href='https://womanonrails.com/favicon.png' rel='shortcut icon' type='image/png' /><link href='/feed.xml' rel='alternate' title='Woman on Rails Feed' type='application/atom+xml' /><link async href='/assets/css/bootstrap.css' media='all' rel='stylesheet' /><link href='/assets/css/style.css' media='all' rel='stylesheet' /><link href='/css/main.css' media='all' rel='stylesheet' /><link href='/assets/css/applause-button.css' rel='stylesheet' /> <script defer src='/assets/js/applause-button.js'></script><div class="search-wrapper"><div class="search-form"> <input type="text" class="search-field" placeholder="Search..."> <span class='js-remove-sign'> <span class='svg--cancel'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 375 375"><path d="M187.5 2.5a185 185 0 0 0-185 185 185 185 0 0 0 185 185 185 185 0 0 0 185-185 185 185 0 0 0-185-185zm-85.906 78.875a20.232 20.232 0 0 1 14.518 6.132l71.388 71.388 71.388-71.388a20.232 20.232 0 0 1 13.909-6.121 20.232 20.232 0 0 1 14.702 34.73l-71.39 71.388 71.39 71.39a20.232 20.232 0 1 1-28.61 28.61L187.5 216.115l-71.388 71.389a20.232 20.232 0 1 1-28.611-28.61l71.39-71.39-71.39-71.388a20.232 20.232 0 0 1 14.093-34.74z"/></svg></span> </span><ul class="search-results post-list"></ul></div></div></head><body class="post-template" itemscope itemtype="https://schema.org/WebPage"><div id="fade"></div><a id="slide" class="animated fade"></a><aside id="sidebar"><nav id="navigation"><h2>MENU</h2><hr><ul><li> <a href="https://womanonrails.com/">Home</a></li><li> <a href="https://womanonrails.com/workshops">Programming courses</a></li><li> <a href="https://womanonrails.com/categories">Categories</a></li><li> <a href="https://womanonrails.com/tags">Tags</a></li><li> <a href="https://womanonrails.com/presentations/">Presentations</a></li><li> <a href="https://womanonrails.com/about">About me</a></li><li> <a href="/feed.xml" title='Atom/RSS feed'> <span class='svg--rss'><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS icon</title><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"/></svg></span> Feed </a></li></ul></nav></aside><header class='blog-background overlay align-center align-middle animated from-bottom' id='masthead' itemscope itemtype='https://schema.org/Organization'> <button class='menu-button animated fade dosearch' title='Search'> <span class='svg--search'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 13"> <g stroke-width="1.5" fill="none"><path d="M11.29 11.71l-4-4"/><circle cx="5" cy="5" r="4"/> </g> </svg></span> </button> <a href="/pl/functional-programming-ruby" class='language animated fade'> pl </a><div class='inner'><div class='container'> <a class='brand' href='/' itemprop='url' role='banner'> <img itemprop='logo' src="https://womanonrails.com/images/womanonrails-square.svg" alt="Woman on Rails Logo" width='120' /><h1 class='blog-title light' itemprop='name'> Woman on Rails</h1></a><h2 class='blog-description light bordered bordered-top' itemprop='description'> Premature optimization is the root of all evil.</h2></div></div><div class="decor-wrapper"> <svg id="header-decor" class="decor bottom" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none"><path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path><path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path><path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path><path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path><path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path><path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path><path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path><path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path> </svg></div></header><div class='content' id='main' itemprop='mainContentOfPage' itemscope itemtype='https://schema.org/WebPageElement' role='main'><div class='container'><div class='row'><div class='applause hidden-xs hidden-sm'> <applause-button color='#c33' multiclap='true' style='width: 58px; height: 58px;' url='https://womanonrails.com/functional-programming-ruby' /></div><article class='post col-md-8 col-md-offset-2 hentry' itemprop='blogPost' itemscope itemtype='https://schema.org/BlogPosting'><header class='post-header entry-header'><h1 class='post-title text-center hyper lighter bordered-bottom entry-title' itemprop='headline'> Functional programming in Ruby</h1><div class='cursive'>Short introduction to blocks, procs, lambdas and closures.</div><div class='post-info text-center small'> <span class='post-tags'> <a data-toggle='tooltip' href="/categories/#programming" title="Other posts from the Programming category" rel="tag">Programming</a> </span> | <span class='post-tags reading-time'> <span class='time'>15</span> min. </span></div></header><div class='post-body bordered-bottom' itemprop='description'><p>Ruby is an object oriented language. That doesn’t mean we cannot do some functional programming in Ruby. When you take a look closer to the history of the Ruby language, you can find out, that Ruby was influenced by other languages like Perl, Smalltalk, Eiffel, Ada, Basic or Lisp. Because of this different inspirations we can find in Ruby not only object oriented concepts, but also a little bit of functional programming.</p><p>Before we start going deep in functional programming in Ruby. Let’s focus on <strong>functional programming</strong> its self. What is functional programming? You can find out, that functional programming is a <strong>programming paradigm</strong>. That means it is a way to classify programming languages based on their features. OK, so what are the features of functional programming language?</p><ul><li>Pure functions (no side-effects) - Function always returns the same result for the same arguments and function can never cause any observable side effects. This is how the function works in the mathematical world.</li><li>Immutability - After the state/value is created, you cannot change it. Instead of changing state or value, you create a new one.</li><li>Referential transparency - this is combining pure function and immutability.</li><li>Memoization - It is a side effect of referential transparency. It can seed up computations by saving the results of previous calls.</li><li>Idempotence - You will get the same results no matter how many times you will call a function. This is also a side effect of referential transparency.</li><li>Higher-order functions - Functions which can get function as argument or return function as a result.</li><li>Currying - Transforming a function that takes multiple arguments into a function that takes one argument and return function. We can say that this is a function generator in some sense.</li><li>Recursion - It is invoking the function by themselves and letting an operation be repeated until it reaches the stop condition or base case.</li><li>Lazy evaluation (non-strict evaluation) - It does not evaluate function arguments unless their values are needed for evaluation of the function itself.</li></ul><p>Now we know a little bit about functional programming concepts. We can start going into Ruby functional programming.</p><h2 id="blocks-in-ruby">Blocks in Ruby</h2><p><strong>Block it is nameless function in Ruby.</strong> We can put it as last argument into function. There can be <strong>only one block</strong> put as an argument in Ruby method. In Ruby blocks are higher-order functions. A common block in Ruby is for example <code class="highlighter-rouge">each</code>:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
  <span class="nb">p</span> <span class="n">item</span>
<span class="k">end</span>

<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="mi">4</span>
 <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div></div><p>Let’s create our own block:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_own_block</span>
  <span class="nb">p</span> <span class="s1">'before'</span>
  <span class="k">yield</span> <span class="k">if</span> <span class="nb">block_given?</span>
  <span class="nb">p</span> <span class="s1">'after'</span>
<span class="k">end</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_own_block</span>
<span class="s2">"before"</span>
<span class="s2">"after"</span>
 <span class="o">=&gt;</span> <span class="s2">"after"</span>
</code></pre></div></div><p>As you see, <code class="highlighter-rouge">my_own_block</code> behaves like a normal method because it is a normal method. The magic begins, when we will start using <code class="highlighter-rouge">yield</code> part. What is this <code class="highlighter-rouge">yield</code>? It is a call of our block, our nameless function which we can put as argument to <code class="highlighter-rouge">my_own_block</code> method. We can say that our <code class="highlighter-rouge">yield</code> will be replaced by everything what is in our argument for <code class="highlighter-rouge">my_own_block</code>. Let’s check how we can call this method with block as an argument:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_own_block</span> <span class="p">{</span> <span class="nb">p</span> <span class="mi">5</span> <span class="p">}</span>
<span class="s2">"before"</span>
<span class="mi">5</span>
<span class="s2">"after"</span>
 <span class="o">=&gt;</span> <span class="s2">"after"</span>
</code></pre></div></div><p>To call block as argument of the function we need to use curly brackets <code class="highlighter-rouge">{}</code> or <code class="highlighter-rouge">do end</code> clause. We cannot use normal brackets <code class="highlighter-rouge">()</code>. In this case we will get an error.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_own_block</span><span class="p">(</span><span class="nb">p</span> <span class="mi">5</span><span class="p">)</span>
<span class="mi">5</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">6</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">23</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
        5: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/bin/irb:23:in `</span><span class="nb">load</span><span class="s1">'
        4: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `&lt;top (required)&gt;'</span>
        <span class="mi">3</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">13</span>
        <span class="mi">2</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">13</span><span class="ss">:in</span> <span class="sb">`rescue in irb_binding'
        1: from (irb):4:in `</span><span class="n">my_own_block</span><span class="err">'</span>
<span class="no">ArgumentError</span> <span class="p">(</span><span class="n">wrong</span> <span class="n">number</span> <span class="n">of</span> <span class="n">arguments</span> <span class="p">(</span><span class="n">given</span> <span class="mi">1</span><span class="p">,</span> <span class="n">expected</span> <span class="mi">0</span><span class="p">))</span>
</code></pre></div></div><p>First of all, we see <code class="highlighter-rouge">5</code> because in the beginning Ruby runs and calculates argument of the method. Then we get <code class="highlighter-rouge">wrong number of arguments (given 1, expected 0)</code>. That means that block argument is treated in a different way than normal method arguments. So, we cannot run block as a normal argument in this case. Later I will show you how to do that in the right way.</p><p>In this example I didn’t tell you one more thing. What is it the <code class="highlighter-rouge">block_given?</code> condition? This helps us with handling a case when you do not put block as an argument. This method checks if block is given or not and prevent us before an exception. If we miss that condition in our method declaration and we will call the method without a block, we will see:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_own_block</span>
  <span class="nb">p</span> <span class="s1">'before'</span>
  <span class="k">yield</span>
  <span class="nb">p</span> <span class="s1">'after'</span>
<span class="k">end</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_own_block</span>
<span class="s2">"before"</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">5</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">23</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
        4: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/bin/irb:23:in `</span><span class="nb">load</span><span class="s1">'
        3: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `&lt;top (required)&gt;'</span>
        <span class="mi">2</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">19</span>
        <span class="mi">1</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">16</span><span class="ss">:in</span> <span class="sb">`my_own_block'
LocalJumpError (no block given (yield))
</span></code></pre></div></div><h2 id="proc-object">Proc object</h2><p><strong>Proc</strong> is a one of classes in Ruby. A Proc object is an encapsulated block of code, which can be stored in a local variable. It can be later passed to a method or another Proc as an argument and can be called. It is essential for Ruby functional programming features concept.</p><p>You already saw one way to declare method with a block. Below I put another way to do that:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_block</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
  <span class="nb">p</span> <span class="s1">'before'</span>
  <span class="nb">p</span> <span class="n">block</span><span class="p">.</span><span class="nf">class</span>
  <span class="n">block</span><span class="p">.</span><span class="nf">call</span>
  <span class="nb">p</span> <span class="s1">'after'</span>
<span class="k">end</span>
</code></pre></div></div><p>We can execute it the same way as before:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_block</span> <span class="p">{</span> <span class="nb">p</span> <span class="mi">4</span> <span class="p">}</span>
<span class="s2">"before"</span>
<span class="no">Proc</span>
<span class="mi">4</span>
<span class="s2">"after"</span>
 <span class="o">=&gt;</span> <span class="s2">"after"</span>
</code></pre></div></div><p>We see that object inside a <code class="highlighter-rouge">block</code> variable is an instance of <code class="highlighter-rouge">Proc</code> class. We can call it by using a method <code class="highlighter-rouge">call</code>. <code class="highlighter-rouge">block.call</code> behaves the same like <code class="highlighter-rouge">yield</code> in our first example. But <code class="highlighter-rouge">Proc</code> object is even cooler than simple block. We can put many of them as arguments to Ruby method:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">run_proc</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="n">last</span><span class="p">)</span>
  <span class="n">first</span><span class="p">.</span><span class="nf">call</span>
  <span class="n">last</span><span class="p">.</span><span class="nf">call</span>
<span class="k">end</span>
<span class="n">proc1</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'first'</span> <span class="p">}</span>
<span class="n">proc2</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'last'</span> <span class="p">}</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">run_proc</span> <span class="n">proc1</span><span class="p">,</span> <span class="n">proc2</span>
<span class="s2">"first"</span>
<span class="s2">"last"</span>
 <span class="o">=&gt;</span> <span class="s2">"last"</span>
</code></pre></div></div><p>We can also call <code class="highlighter-rouge">Proc</code> object outside of a method in many different ways:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_proc</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
  <span class="nb">p</span> <span class="s2">"Text: </span><span class="si">#{</span><span class="n">item</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span> <span class="mi">10</span>
<span class="s2">"Text: 10"</span>
 <span class="o">=&gt;</span> <span class="s2">"Text: 10"</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="o">.</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="s2">"Text: 20"</span>
 <span class="o">=&gt;</span> <span class="s2">"Text: 20"</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">[</span><span class="mi">30</span><span class="p">]</span>
<span class="s2">"Text: 30"</span>
 <span class="o">=&gt;</span> <span class="s2">"Text: 30"</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span> <span class="o">===</span> <span class="mi">40</span>
<span class="s2">"Text: 40"</span>
 <span class="o">=&gt;</span> <span class="s2">"Text: 40"</span>
</code></pre></div></div><p>This allows us to do some fancy tricks. Like using <code class="highlighter-rouge">Proc</code> in <code class="highlighter-rouge">case</code>:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">proc1</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">number</span><span class="o">|</span> <span class="n">number</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">}</span>
<span class="n">proc2</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">number</span><span class="o">|</span> <span class="n">number</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">}</span>

<span class="k">case</span> <span class="mi">3</span>
<span class="k">when</span> <span class="n">proc1</span> <span class="k">then</span> <span class="nb">p</span> <span class="s1">'proc1'</span>
<span class="k">when</span> <span class="n">proc2</span> <span class="k">then</span> <span class="nb">p</span> <span class="s1">'proc2'</span>
<span class="k">else</span>
  <span class="nb">p</span> <span class="s1">'not a proc'</span>
<span class="k">end</span>
<span class="s2">"proc1"</span>
 <span class="o">=&gt;</span> <span class="s2">"proc1"</span>
</code></pre></div></div><p>Because <code class="highlighter-rouge">case</code> is using an equality operator <code class="highlighter-rouge">===</code> to check if the condition is fulfilled and <code class="highlighter-rouge">Proc</code> object is implementing this method, we can do that magic with <code class="highlighter-rouge">Proc</code> inside <code class="highlighter-rouge">case</code>. This is outlier but, because <code class="highlighter-rouge">Range</code> class also is implementing equality operator <code class="highlighter-rouge">===</code>, we can use it in <code class="highlighter-rouge">case</code> too.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="p">(</span><span class="mi">4</span><span class="o">..</span><span class="mi">7</span><span class="p">)</span> <span class="o">===</span> <span class="mi">5</span>
 <span class="o">=&gt;</span> <span class="kp">true</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="p">(</span><span class="mi">4</span><span class="o">..</span><span class="mi">7</span><span class="p">)</span> <span class="o">===</span> <span class="mi">8</span>
 <span class="o">=&gt;</span> <span class="kp">false</span>
</code></pre></div></div><p>Right now I will show you one more way to declare <code class="highlighter-rouge">Proc</code> in your method:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">run_proc</span>
  <span class="nb">p</span> <span class="s1">'before'</span>
  <span class="n">my_proc</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span>
  <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
  <span class="nb">p</span> <span class="s1">'after'</span>
<span class="k">end</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">run_proc</span> <span class="p">{</span> <span class="nb">p</span> <span class="mi">6</span> <span class="p">}</span>
<span class="s2">"before"</span>
<span class="mi">6</span>
<span class="s2">"after"</span>
 <span class="o">=&gt;</span> <span class="s2">"after"</span>
</code></pre></div></div><p>When you look at this implementation, it can be for you very strange. We do not declare argument, so how does the <code class="highlighter-rouge">Proc.new</code> know what to do? Normally when you will just do <code class="highlighter-rouge">Proc.new</code> without any block declaration, you will get exception <code class="highlighter-rouge">tried to create Proc object without a block</code>. In this case when <code class="highlighter-rouge">Proc.new</code> has no block code itself, it will seek a block declaration in the current scope. So when we run our <code class="highlighter-rouge">run_proc</code> method with block, everything is working like it should.</p><h2 id="lambdas">Lambdas</h2><p>A <strong>lambda</strong> is an anonymous function. It is a function definition that doesn’t have a <em>name</em>. It is not bound to an identifier. You can assign it to variable, but it doesn’t have a name by which you can call it. Anonymous functions are often used as arguments for higher-order functions. In Ruby they are very similar to <code class="highlighter-rouge">Proc</code> object, but there are some small differences. Let’s go through them.</p><h4 id="arguments-control">Arguments control</h4><p>We will declare lambda and <code class="highlighter-rouge">Proc</code> object. By the way the shortcut for <code class="highlighter-rouge">Proc.new</code> is <code class="highlighter-rouge">proc</code> so you can see me switching those two forms in the code.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_proc</span> <span class="o">=</span> <span class="no">Proc</span><span class="p">.</span><span class="nf">new</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="nb">p</span> <span class="s2">"==</span><span class="si">#{</span><span class="n">item</span><span class="si">}</span><span class="s2">=="</span> <span class="p">}</span>
<span class="n">my_lambda</span> <span class="o">=</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="nb">p</span> <span class="s2">"==</span><span class="si">#{</span><span class="n">item</span><span class="si">}</span><span class="s2">=="</span> <span class="p">}</span>
</code></pre></div></div><p>This 2 objects are the same class:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">class</span>
 <span class="o">=&gt;</span> <span class="no">Proc</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_lambda</span><span class="p">.</span><span class="nf">class</span>
 <span class="o">=&gt;</span> <span class="no">Proc</span>
</code></pre></div></div><p>Both objects have the same arity:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">arity</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_lambda</span><span class="p">.</span><span class="nf">arity</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>
</code></pre></div></div><p>But there is a difference when you call them without argument. <code class="highlighter-rouge">Proc</code> will be executed and lambda will raise an exception:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
<span class="s2">"===="</span>
 <span class="o">=&gt;</span> <span class="s2">"===="</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_lambda</span><span class="p">.</span><span class="nf">call</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">5</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">23</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
        4: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/bin/irb:23:in `</span><span class="nb">load</span><span class="s1">'
        3: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `&lt;top (required)&gt;'</span>
        <span class="mi">2</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">77</span>
        <span class="mi">1</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">62</span><span class="ss">:in</span> <span class="sb">`block in irb_binding'
ArgumentError (wrong number of arguments (given 0, expected 1))
</span></code></pre></div></div><p>We cannot distinguish them by class name, but it is possible to use method <code class="highlighter-rouge">lambda?</code> to do that.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">lambda?</span>
 <span class="o">=&gt;</span> <span class="kp">false</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_lambda</span><span class="p">.</span><span class="nf">lambda?</span>
 <span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre></div></div><p>I would like to add one more thing to this section. If you declare an array of arguments in lambda. You will get arity <code class="highlighter-rouge">-1</code>.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="o">|*</span><span class="n">items</span><span class="o">|</span> <span class="p">}.</span><span class="nf">arity</span>
 <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div></div><p>In the end of this section I will show you one more possible declaration of lambda, by using arrow operator <code class="highlighter-rouge">-&gt;</code>.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_lambda</span> <span class="o">=</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="p">{</span> <span class="nb">p</span> <span class="s2">"==</span><span class="si">#{</span><span class="n">item</span><span class="si">}</span><span class="s2">=="</span> <span class="p">}</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_lambda</span><span class="p">.</span><span class="nf">lambda?</span>
 <span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre></div></div><h4 id="using-with-return">Using with return</h4><p>First, we declare method which will call a <code class="highlighter-rouge">Proc</code> object or a lambda.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="nb">proc</span><span class="p">)</span>
  <span class="nb">p</span> <span class="s1">'before'</span>
  <span class="nb">proc</span><span class="p">.</span><span class="nf">call</span>
  <span class="nb">p</span> <span class="s1">'after'</span>
<span class="k">end</span>
</code></pre></div></div><p>Now we can run method <code class="highlighter-rouge">run</code> with lambda:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">run</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'in'</span><span class="p">;</span> <span class="k">return</span> <span class="p">}</span>
<span class="s2">"before"</span>
<span class="s2">"in"</span>
<span class="s2">"after"</span>
 <span class="o">=&gt;</span> <span class="s2">"after"</span>
</code></pre></div></div><p>Everything is fine. Now, let’s go to <code class="highlighter-rouge">Proc</code> object:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">run</span> <span class="nb">proc</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'in'</span><span class="p">;</span> <span class="k">return</span> <span class="p">}</span>
<span class="s2">"before"</span>
<span class="s2">"in"</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">6</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">23</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
        5: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/bin/irb:23:in `</span><span class="nb">load</span><span class="s1">'
        4: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `&lt;top (required)&gt;'</span>
        <span class="mi">3</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">91</span>
        <span class="mi">2</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">87</span><span class="ss">:in</span> <span class="sb">`run'
        1: from (irb):91:in `</span><span class="n">block</span> <span class="k">in</span> <span class="n">irb_binding</span><span class="err">'</span>
<span class="no">LocalJumpError</span> <span class="p">(</span><span class="n">unexpected</span> <span class="k">return</span><span class="p">)</span>
</code></pre></div></div><p>We see an error. We start with <code class="highlighter-rouge">"before"</code>, then we go to our <code class="highlighter-rouge">Proc</code> object and we print <code class="highlighter-rouge">"in"</code> and after that we get an exception. This is because <code class="highlighter-rouge">Proc</code> object doesn’t return current context. <strong>It wants to return context where it was defined.</strong> This is the main context (irb console context). <code class="highlighter-rouge">Proc</code> cannot return from that context, so we see an exception. If we change the context, we will see the difference:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">change_context</span>
  <span class="n">run</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'in'</span><span class="p">;</span> <span class="k">return</span> <span class="p">}</span>
  <span class="n">run</span> <span class="nb">proc</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'in'</span><span class="p">;</span> <span class="k">return</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre></div></div><p>Let’s run our <code class="highlighter-rouge">change_context</code> method:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="n">change_context</span>
<span class="s2">"before"</span>
<span class="s2">"in"</span>
<span class="s2">"after"</span>
<span class="s2">"before"</span>
<span class="s2">"in"</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div></div><p>First, we run part with lambda. It prints <code class="highlighter-rouge">"before"</code>, <code class="highlighter-rouge">"in"</code> and <code class="highlighter-rouge">"after"</code>. Then it calls a <code class="highlighter-rouge">Proc</code> object. We see <code class="highlighter-rouge">"before"</code>, <code class="highlighter-rouge">"in"</code> and then we finish our method <code class="highlighter-rouge">change_context</code>. Right now context of <code class="highlighter-rouge">Proc</code> object is context of <code class="highlighter-rouge">change_context</code> method. Because <code class="highlighter-rouge">Proc</code> return form context where it was created, it returns from method <code class="highlighter-rouge">change_context</code>. So, we cannot print second <code class="highlighter-rouge">"after"</code> string.</p><h2 id="closures">Closures</h2><p>Closure is a technique for creating a function based on another function with an environment which <strong>have impact on this function during the declaration process</strong>. This is one of the ways to generate new functions by using the function. It is related to higher-order functions concept. As it is hard to me to explain this in simple words, the example should help in understanding this concept.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">multiple</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
  <span class="nb">lambda</span> <span class="p">{</span> <span class="o">|</span><span class="n">n</span><span class="o">|</span> <span class="n">n</span> <span class="o">*</span> <span class="n">m</span> <span class="p">}</span>
<span class="k">end</span>

<span class="n">double</span> <span class="o">=</span> <span class="n">multiple</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">triple</span> <span class="o">=</span> <span class="n">multiple</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Execute</span>
<span class="n">irb</span><span class="o">&gt;</span> <span class="n">double</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
 <span class="o">=&gt;</span> <span class="mi">10</span>
<span class="n">irb</span><span class="o">&gt;</span> <span class="n">triple</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
 <span class="o">=&gt;</span> <span class="mi">15</span>
</code></pre></div></div><p>We declare function <code class="highlighter-rouge">multiple</code> with one argument. Inside this function we use lambda with also one argument, but we are using it with context of <code class="highlighter-rouge">multiple</code> method. We put <code class="highlighter-rouge">m</code> variable inside lambda declaration. Now we can generate functions based on <code class="highlighter-rouge">multiple</code> method. When we put as <code class="highlighter-rouge">m</code> variable <code class="highlighter-rouge">2</code> this value will go to lambda as sounding environment. Lambda in <code class="highlighter-rouge">double</code> method will be remembered as <code class="highlighter-rouge">lambda { |n| n * 2 }</code>. Right now when you call <code class="highlighter-rouge">double</code> method, you will put <code class="highlighter-rouge">5</code> as <code class="highlighter-rouge">n</code> variable. <code class="highlighter-rouge">5 * 2</code> is <code class="highlighter-rouge">10</code>.</p><p>There is one more thing to remember. In Ruby during closure we remember references to variable not the value of it. This is different then in other languages. And this is why you can change the context after it’s declared, but you cannot create (declare) context after the declaration of closure. Let’s check examples below. First, declare closure without context and try to add context later:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">my_proc</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="nb">p</span> <span class="n">first_name</span> <span class="p">}</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">5</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">23</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
        4: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/bin/irb:23:in `</span><span class="nb">load</span><span class="s1">'
        3: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `&lt;top (required)&gt;'</span>
        <span class="mi">2</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">107</span>
        <span class="mi">1</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">105</span><span class="ss">:in</span> <span class="sb">`block in irb_binding'
NameError (undefined local variable or method `</span><span class="n">first_name</span><span class="err">'</span> <span class="k">for</span> <span class="n">main</span><span class="ss">:Object</span><span class="p">)</span>
</code></pre></div></div><p>We get an error. Now we will try to add missing context:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_name</span> <span class="o">=</span> <span class="s2">"Agnieszka"</span>
 <span class="o">=&gt;</span> <span class="s2">"Agnieszka"</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
<span class="no">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
        <span class="mi">5</span><span class="p">:</span> <span class="n">from</span> <span class="sr">/home/</span><span class="n">agnieszka</span><span class="o">/</span><span class="p">.</span><span class="nf">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">2.6</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">23</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;'
        4: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/bin/irb:23:in `</span><span class="nb">load</span><span class="s1">'
        3: from /home/agnieszka/.rvm/rubies/ruby-2.6.1/lib/ruby/gems/2.6.0/gems/irb-1.0.0/exe/irb:11:in `&lt;top (required)&gt;'</span>
        <span class="mi">2</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">109</span>
        <span class="mi">1</span><span class="p">:</span> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">105</span><span class="ss">:in</span> <span class="sb">`block in irb_binding'
NameError (undefined local variable or method `</span><span class="n">first_name</span><span class="err">'</span> <span class="k">for</span> <span class="n">main</span><span class="ss">:Object</span><span class="p">)</span>
</code></pre></div></div><p>It is not possible to add context after the declaration of closure. Next example will show you, that we can change context which was declared before:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">name</span> <span class="o">=</span> <span class="s1">'Agnieszka'</span>
<span class="n">my_proc</span> <span class="o">=</span> <span class="nb">proc</span> <span class="p">{</span> <span class="nb">p</span> <span class="nb">name</span> <span class="p">}</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
<span class="s2">"Agnieszka"</span>
 <span class="o">=&gt;</span> <span class="s2">"Agnieszka"</span>

<span class="nb">name</span> <span class="o">=</span> <span class="s1">'Ula'</span>
<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
<span class="s2">"Ula"</span>
 <span class="o">=&gt;</span> <span class="s2">"Ula"</span>
</code></pre></div></div><h4 id="method-as-lambda">Method as lambda</h4><p>We can create a method and use it as lambda. This is how we do that:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">my_method</span>
  <span class="nb">p</span> <span class="s1">'Hello word'</span>
<span class="k">end</span>

<span class="n">my_proc</span> <span class="o">=</span> <span class="nb">method</span><span class="p">(</span><span class="ss">:my_method</span><span class="p">)</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">my_proc</span><span class="p">.</span><span class="nf">call</span>
<span class="s2">"Hello word"</span>
 <span class="o">=&gt;</span> <span class="s2">"Hello word"</span>
</code></pre></div></div><h4 id="types-of-closures-in-ruby">Types of closures in Ruby</h4><p>We have a few types of closure in Ruby:</p><ul><li>block + <code class="highlighter-rouge">yield</code></li><li>block + <code class="highlighter-rouge">&amp;b</code></li><li><code class="highlighter-rouge">Proc.new</code></li><li><code class="highlighter-rouge">proc</code></li><li><code class="highlighter-rouge">lambda</code></li><li><code class="highlighter-rouge">method</code></li></ul><h4 id="where-do-we-use-closures">Where do we use closures?</h4><p>In pure Ruby:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="nb">p</span> <span class="n">item</span> <span class="p">}</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">each_cons</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nf">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">|</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="p">}</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="n">item</span><span class="p">.</span><span class="nf">next</span> <span class="p">}</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">inject</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">sum</span><span class="p">,</span> <span class="n">item</span><span class="o">|</span> <span class="n">sum</span> <span class="o">+</span> <span class="n">item</span> <span class="p">}</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">inject</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">:</span><span class="o">+</span><span class="p">)</span>
</code></pre></div></div><p>In Ruby on Rails:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
  <span class="nb">format</span><span class="p">.</span><span class="nf">html</span> <span class="c1"># index.html.erb</span>
  <span class="nb">format</span><span class="p">.</span><span class="nf">xml</span>  <span class="p">{</span> <span class="n">render</span> <span class="ss">:xml</span> <span class="o">=&gt;</span> <span class="vi">@items</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre></div></div><h2 id="bonus---lisp-in-ruby">Bonus - Lisp in Ruby</h2><p>To do Lisp lists in Ruby we will use lazy enumerators and recursion. But first, let’s check how lists look like in Lisp.</p><div class="language-common-lisp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nb">write</span> <span class="o">'</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span>

<span class="p">(</span><span class="nb">write</span> <span class="p">(</span><span class="nb">car</span> <span class="o">'</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)))</span>
 <span class="nv">=&gt;</span> <span class="mi">1</span>

<span class="p">(</span><span class="nb">write</span> <span class="p">(</span><span class="nb">cdr</span> <span class="o">'</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)))</span>
 <span class="nv">=&gt;</span> <span class="p">(</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></div><p>If you read my article about <a href="/elixir-pattern-matching" title="Elixir - How to fit into the pattern?">Elixir basics</a> you can compare <code class="highlighter-rouge">car</code> and <code class="highlighter-rouge">cdr</code> methods to <code class="highlighter-rouge">head</code> and <code class="highlighter-rouge">tail</code> in Elixir. <code class="highlighter-rouge">car</code> will always return first element of the list and <code class="highlighter-rouge">cdr</code> will return list without first element. Let’s prepare a Ruby array to behave like Lisp lists.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">car</span><span class="p">,</span> <span class="n">cdr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,[</span><span class="mi">3</span><span class="p">]]]</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">car</span>
 <span class="o">=&gt;</span> <span class="mi">1</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">cdr</span>
 <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
</code></pre></div></div><p>Now we will prepare normal enumerator for this kind of lists:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LispyEnumerable</span>
  <span class="kp">include</span> <span class="no">Enumerable</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
    <span class="vi">@tree</span> <span class="o">=</span> <span class="n">tree</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">each</span>
    <span class="k">while</span> <span class="vi">@tree</span>
      <span class="n">car</span><span class="p">,</span> <span class="n">cdr</span> <span class="o">=</span> <span class="vi">@tree</span>
      <span class="k">yield</span> <span class="n">car</span>
      <span class="vi">@tree</span> <span class="o">=</span> <span class="n">cdr</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div><p>This will allow us to do some operations on <code class="highlighter-rouge">car</code> a head of the list and it will overwrite <code class="highlighter-rouge">@tree</code> variable for the next step of our loop with <code class="highlighter-rouge">cdr</code> tail of list. We can call it like:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,[</span><span class="mi">3</span><span class="p">]]]</span>
<span class="n">irb</span><span class="o">&gt;</span> <span class="no">LispyEnumerable</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">list</span><span class="p">).</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="nb">p</span> <span class="n">item</span> <span class="p">}</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div></div><p>For now our list is not lazy and our enumerator is also not lazy. To change that we will use lambdas.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LazyLispyEnumerable</span>
  <span class="kp">include</span> <span class="no">Enumerable</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
    <span class="vi">@tree</span> <span class="o">=</span> <span class="n">tree</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">each</span>
    <span class="k">while</span> <span class="vi">@tree</span>
      <span class="n">car</span><span class="p">,</span> <span class="n">cdr</span> <span class="o">=</span> <span class="vi">@tree</span><span class="p">.</span><span class="nf">call</span>
      <span class="k">yield</span> <span class="n">car</span>
      <span class="vi">@tree</span> <span class="o">=</span> <span class="n">cdr</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div><p>We changed only one line. We calculate (execute) our next element of the list by calling <code class="highlighter-rouge">@tree.call</code>. To be able to use this enumerator, we need to also change a structure of our list itself.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">list</span> <span class="o">=</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">}</span> <span class="p">]</span> <span class="p">}</span> <span class="p">]</span> <span class="p">}</span>
<span class="n">irb</span><span class="o">&gt;</span> <span class="no">LazyLispyEnumerable</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">list</span><span class="p">).</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="nb">p</span> <span class="n">item</span> <span class="p">}</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div></div><p>Right now we don’t see any difference. To see that, let me change list declaration. If it will have strict evaluation, we will see all prints for numbers in the beginning and then the numbers. But if this is a lazy evaluation, then we will see it one by one.</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">list</span> <span class="o">=</span> <span class="nb">lambda</span> <span class="k">do</span>
  <span class="nb">p</span> <span class="s1">'1 is called'</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="nb">lambda</span> <span class="k">do</span>
    <span class="nb">p</span> <span class="s1">'2 is called'</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="nb">p</span> <span class="s1">'3 is called'</span><span class="p">;</span> <span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">}]</span>
  <span class="k">end</span><span class="p">]</span>
<span class="k">end</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="no">LazyLispyEnumerable</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">list</span><span class="p">).</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="nb">p</span> <span class="n">item</span> <span class="p">}</span>
<span class="s2">"1 is called"</span>
<span class="mi">1</span>
<span class="s2">"2 is called"</span>
<span class="mi">2</span>
<span class="s2">"3 is called"</span>
<span class="mi">3</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div></div><p>As you can see we have lazy enumerator. Now is the time for the Fibonacci sequence with lazy evaluation:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fibo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
  <span class="nb">lambda</span> <span class="p">{</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">fibo</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)]</span> <span class="p">}</span>
<span class="k">end</span>

<span class="no">LazyLispyEnumerable</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">fibo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">item</span>
  <span class="k">break</span> <span class="k">if</span> <span class="n">item</span> <span class="o">&gt;</span> <span class="mi">100</span>
<span class="k">end</span>
<span class="mi">1</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="mi">5</span>
<span class="mi">8</span>
<span class="mi">13</span>
<span class="mi">21</span>
<span class="mi">34</span>
<span class="mi">55</span>
<span class="mi">89</span>
<span class="mi">144</span>
 <span class="o">=&gt;</span> <span class="kp">nil</span>
</code></pre></div></div><p>I put there break point, but without it Ruby can do these calculations into infinity (theoretically). In some way this is not the real recursion. We can say that this is an infinite loop. If we do that with the real recursion, the code will look like:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">recursive_fibo</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span>
  <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span>
  <span class="n">recursive_fibo</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">recursive_fibo</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">irb</span><span class="o">&gt;</span> <span class="n">recursive_fibo</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
 <span class="o">=&gt;</span> <span class="mi">144</span>
</code></pre></div></div><p>In this situation if we remove our gourds we will get an error <code class="highlighter-rouge">SystemStackError (stack level too deep)</code>. This will be also slower than lazy evaluation.</p><p>In the end I will only mention that since Ruby version 2.0 we can use lazy enumerators inside a Ruby language, like this:</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">irb</span><span class="o">&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="no">Float</span><span class="o">::</span><span class="no">INFINITY</span><span class="p">).</span><span class="nf">lazy</span><span class="p">.</span><span class="nf">select</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:even?</span><span class="p">).</span><span class="nf">first</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
 <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</code></pre></div></div><p>If you want more information about them, check out <a href="https://ruby-doc.org/core/Enumerator/Lazy.html" rel="nofollow" target="_blank">Lazy enumerator documentation</a>.</p><p>That’s all for today. I hope you like it. If you have any questions put them in the comments below. I will try to answer them. See you next time!</p><h2 id="bibliography">Bibliography</h2><ul><li><a href="https://www.youtube.com/watch?v=VBC-G6hahWA" rel="nofollow">An Introduction video about Procs, Lambdas and Closures in Ruby</a></li><li><a href="https://www.slideshare.net/tokland/functional-programming-with-ruby-9975242" rel="nofollow" target="_blank">Presentation about functional programming in Ruby</a></li><li><a href="https://innig.net/software/ruby/closures-in-ruby" rel="nofollow" target="_blank">Article about closures in Ruby</a></li><li><a href="https://ruby-doc.org/" rel="nofollow" target="_blank">Ruby documentation</a></li></ul><br><div class='entry-tags text-center'> <span class='svg--tags'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 230 230"><path d="M95.084 0H.13v95.475L134.658 230l95.212-95.212L95.084 0zM61.138 61.268c-6.988 6.989-18.321 6.989-25.309 0-6.989-6.987-6.99-18.321 0-25.308 6.987-6.99 18.321-6.989 25.309 0 6.989 6.987 6.989 18.321 0 25.308z"/></svg></span> Tagged with <a href="/tags/#Ruby" data-toggle='tooltip' title='Posts tagged with Ruby' rel='tag'>Ruby</a></div></div></article></div><footer class='post-footer entry-meta'><div class='post-share text-center'><p class='light small'> Share this post</p><ul class='social-mini'><li> <a data-toggle='tooltip' href="https://twitter.com/intent/tweet?text=&quot;Functional programming in Ruby&quot;%20https://womanonrails.com/functional-programming-ruby%20via%20&#64;womanonrails" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title='Share on Twitter'> <span class='svg--twitter'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span> </a></li><li> <a data-toggle='tooltip' href='https://www.facebook.com/sharer/sharer.php?u=https://womanonrails.com/functional-programming-ruby' onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title='Share on Facebook'> <span class='svg--facebook'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 512"><path d="M76.7 512V283H0v-91h76.7v-71.7C76.7 42.4 124.3 0 193.8 0c33.3 0 61.9 2.5 70.2 3.6V85h-48.2c-37.8 0-45.1 18-45.1 44.3V192H256l-11.7 91h-73.6v229"/></svg></span> </a></li></ul></div><div class="post-author text-center"> <img src="https://womanonrails.com/images/womanonrails-square.svg" alt="Agnieszka Małaszkiewicz's photo" itemprop="image" class="post-avatar img-circle img-responsive"/><h4 class="bordered-bottom vcard author" itemprop="author" itemscope itemtype="https://schema.org/Person">By <span itemprop="name" class="fn"><a href="https://womanonrails.com/about" title="About Agnieszka Małaszkiewicz" itemprop="url">Agnieszka Małaszkiewicz</a></span></h4><p>Woman, programmer, mentor, speaker, photographer and dancer with passion.</p></div></footer></div></div><footer id='footer' class='blog-background overlay text-center align-middle animated from-top'><div class='inner'><div class='container'><ul class='social-icons'><li> <a href='https://twitter.com/womanonrails' rel='nofollow noopener noreferrer' target='_blank'> <span class='svg--twitter'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span> </a></li><li> <a href='https://facebook.com/womanonrails' rel='nofollow noopener noreferrer' target='_blank'> <span class='svg--facebook'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 512"><path d="M76.7 512V283H0v-91h76.7v-71.7C76.7 42.4 124.3 0 193.8 0c33.3 0 61.9 2.5 70.2 3.6V85h-48.2c-37.8 0-45.1 18-45.1 44.3V192H256l-11.7 91h-73.6v229"/></svg></span> </a></li><li> <a href='https://stackoverflow.com/users/2885676/womanonrails' rel='nofollow noopener noreferrer' target='_blank'> <span class='svg--stackoverflow'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M293.7 300l-181.2-84.5 16.7-36.5 181.3 84.7-16.8 36.3zm48-76L188.2 95.7l-25.5 30.8 153.5 128.3 25.5-30.8zm39.6-31.7L262 32l-32 24 119.3 160.3 32-24zM290.7 311L95 269.7 86.8 309l195.7 41 8.2-39zm31.6 129H42.7V320h-40v160h359.5V320h-40v120zm-39.8-80h-200v39.7h200V360z"/></svg></span> </a></li><li> <a href='https://linkedin.com/in/womanonrails' rel='nofollow noopener noreferrer' target='_blank'> <span class='svg--linkedin'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M100.3 480H7.4V180.9h92.9V480zM53.8 140.1C24.1 140.1 0 115.5 0 85.8 0 56.1 24.1 32 53.8 32c29.7 0 53.8 24.1 53.8 53.8 0 29.7-24.1 54.3-53.8 54.3zM448 480h-92.7V334.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V480h-92.8V180.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V480z"/></svg></span> </a></li><li> <a href='https://instagram.com/womanonrails' rel='nofollow noopener noreferrer' target='_blank'> <span class='svg--linkedin'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg></span> </a></li><li> <a href='https://github.com/womanonrails' rel='nofollow noopener noreferrer' target='_blank'> <span class='svg--github'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 399.378c0 2.052-2.3 3.693-5.2 3.693-3.3.307-5.6-1.334-5.6-3.693 0-2.05 2.3-3.692 5.2-3.692 3-.307 5.6 1.334 5.6 3.692zm-31.1-4.615c-.7 2.051 1.3 4.41 4.3 5.026 2.6 1.025 5.6 0 6.2-2.052.6-2.05-1.3-4.41-4.3-5.333-2.6-.718-5.5.308-6.2 2.36zm44.2-1.743c-2.9.718-4.9 2.666-4.6 5.025.3 2.051 2.9 3.385 5.9 2.667 2.9-.718 4.9-2.667 4.6-4.718-.3-1.949-3-3.282-5.9-2.974zM244.8 0C106.1 0 0 107.998 0 250.253c0 113.741 69.8 211.073 169.5 245.33 12.8 2.358 17.3-5.744 17.3-12.411 0-6.359-.3-41.435-.3-62.973 0 0-70 15.384-84.7-30.564 0 0-11.4-29.846-27.8-37.538 0 0-22.9-16.102 1.6-15.794 0 0 24.9 2.05 38.6 26.46 21.9 39.59 58.6 28.205 72.9 21.436 2.3-16.41 8.8-27.794 16-34.563-55.9-6.36-112.3-14.667-112.3-113.332 0-28.205 7.6-42.358 23.6-60.41-2.6-6.666-11.1-34.153 2.6-69.64 20.9-6.666 69 27.693 69 27.693 20-5.744 41.5-8.718 62.8-8.718 21.3 0 42.8 2.974 62.8 8.718 0 0 48.1-34.461 69-27.692 13.7 35.589 5.2 62.973 2.6 69.64 16 18.153 25.8 32.307 25.8 60.409 0 98.973-58.9 106.87-114.8 113.332 9.2 8.102 17 23.486 17 47.589 0 34.563-.3 77.332-.3 85.742 0 6.666 4.6 14.769 17.3 12.41 100-34.05 167.8-131.383 167.8-245.124C496 107.998 383.5 0 244.8 0zM97.2 353.738c-1.3 1.026-1 3.385.7 5.333 1.6 1.641 3.9 2.36 5.2 1.026 1.3-1.026 1-3.385-.7-5.333-1.6-1.641-3.9-2.36-5.2-1.026zm-10.8-8.307c-.7 1.333.3 2.974 2.3 4 1.6 1.025 3.6.717 4.3-.718.7-1.334-.3-2.975-2.3-4-2-.616-3.6-.308-4.3.718zm32.4 36.512c-1.6 1.333-1 4.41 1.3 6.359 2.3 2.359 5.2 2.666 6.5 1.025 1.3-1.333.7-4.41-1.3-6.359-2.2-2.358-5.2-2.666-6.5-1.025zm-11.4-15.077c-1.6 1.026-1.6 3.692 0 6.051 1.6 2.36 4.3 3.385 5.6 2.36 1.6-1.334 1.6-4 0-6.36-1.4-2.359-4-3.384-5.6-2.05z"/></svg></span> </a></li></ul><div> Agnieszka Małaszkiewicz &copy; 2021 &bull; All rights reserved.</div><ul class='menu-items'><li> <a href="/"> <span class='svg--home'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M16 256L256 64l96 72v-32h48v72l96 80h-48v192H328V288h-96v160H64V256z"/></svg></span> </a>&bull;</li><li> <a href="/workshops"> Programming courses </a>&bull;</li><li> <a href="/categories"> Categories </a>&bull;</li><li> <a href="/tags"> Tags </a>&bull;</li><li> <a href="/about"> About </a>&bull;</li><li> <a href="/feed.xml" title='Atom/RSS feed'> <span class='svg--rss'><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>RSS icon</title><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z"/></svg></span> Feed </a></li></ul></div><div> <a class='btn btn-default' href='https://paypal.me/womanonrails' target='_blank' rel='nofollow noopener' style='border-radius: 10px !important;'> <img alt='PayPal' height='20' src='/images/donations/paypal.svg'> </a> <a href='https://ko-fi.com/womanonrails' target='_blank' rel='nofollow noopener'> <img alt='Ko-fi' height='34' src='/images/donations/ko-fi.svg'> </a></div></div><div class="decor-wrapper"> <svg id="footer-decor" class="decor top" xmlns="https://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" preserveAspectRatio="none"><path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path><path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path><path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path><path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path><path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path><path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path><path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path><path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path> </svg></div></footer><script async src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> <script>window.jQuery || document.write('<script src="https://womanonrails.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script> <script src="https://womanonrails.com/assets/js/scripts.min.js"></script> <script type="text/javascript" src="https://womanonrails.com/assets/js/waypoints.min.js"></script> <script type="text/javascript" src="https://womanonrails.com/assets/js/script.js"></script> <script type='text/javascript'>$(document).ready(function(){$(".time").text(function(a,b){return Math.round(parseFloat(b))})});</script> <script type="text/javascript"> /* Slides */ $("a#slide").click(function(){ $("#sidebar,body,a#slide,#fade").addClass("slide") }); $("#fade,#header,#posts-container").click(function(){ $("#sidebar,body,a#slide,#fade").removeClass("slide") }); $("a#click-filter").click(function(){ $("#slide-filter").slideToggle("medium"); $("#slide-pages").slideOut("medium"); }); $("a#click-pages").click(function(){ $("#slide-pages").slideToggle("medium"); $("#slide-filter").slideOut("medium"); }); /* End-Slides */ </script> <script> $(document).ready(function() { $('.search-field').simpleJekyllSearch({ jsonFile : '/search.json', searchResults : '.search-results', template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>', noResults: '<p>Nothing found.</p>' }); }); (function( $, window, undefined ) { var bs = { close: $(".js-remove-sign"), searchform: $(".search-form"), canvas: $("body"), dothis: $('.dosearch') }; bs.dothis.on('click', function() { $('.search-wrapper').css({ display: "block" }); bs.searchform.toggleClass('active'); bs.searchform.find('input').focus(); bs.canvas.toggleClass('search-overlay'); }); bs.close.on('click', function() { $('.search-wrapper').removeAttr( 'style' ); bs.searchform.toggleClass('active'); bs.canvas.removeClass('search-overlay'); }); })( jQuery, window ); </script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127731573-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-127731573-1'); </script></body></html>
